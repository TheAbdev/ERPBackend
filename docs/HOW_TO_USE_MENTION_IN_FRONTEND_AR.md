# ููููุฉ ุงุณุชุฎุฏุงู Mention ูู ุงููุฑููุช ุฅูุฏ - ุงูุญู ุงูุตุญูุญ

## ๐ ุงููุดููุฉ

ุนูุฏ ูุชุงุจุฉ `@ali` ูู ุญูู `body`ุ ูู ูุญุฏุซ ุดูุก ูุฃู:
1. ุงูู Backend ูุชููุน `@123` (ุฑูู ID) ูููุณ `@ali` (ุงุณู)
2. ุงูู Frontend ูุญุชุงุฌ ุชูุนูู ุฎุงุตูุฉ `enableMentions` ูู `RichTextEditor`

---

## โ ุงูุญู

### 1. ุชู ุชูุนูู Mention ูู ุตูุญุฉ Notes

ุชู ุชุญุฏูุซ `ERPFrontend/src/pages/Notes/Notes.tsx` ูุฅุถุงูุฉ:
```tsx
<RichTextEditor
  value={formData.body || ''}
  onChange={(value) => setFormData({ ...formData, body: value })}
  placeholder="Enter note content... (ุงูุชุจ @ ูุฐูุฑ ูุณุชุฎุฏู)"
  className="dark:bg-gray-800"
  enableMentions={true}  // โ ุชู ุฅุถุงูุชู
/>
```

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู ุงูุตุญูุญ

### ุงูุทุฑููุฉ ุงูุตุญูุญุฉ:

1. **ุงูุชุจ `@` ูู ุญูู Body**
   - ุนูุฏ ูุชุงุจุฉ `@`ุ ุณุชุธูุฑ ูุงุฆูุฉ ููุณุฏูุฉ ูููุณุชุฎุฏููู

2. **ุงูุชุจ ุงุณู ุงููุณุชุฎุฏู ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**
   - ูุซุงู: `@ali` ุฃู `@ahmed` ุฃู `@example.com`
   - ุณูุชู ุงูุจุญุซ ุชููุงุฆูุงู ูู ูุงุฆูุฉ ุงููุณุชุฎุฏููู

3. **ุงุฎุชุฑ ุงููุณุชุฎุฏู ูู ุงููุงุฆูุฉ**
   - ุงุณุชุฎุฏู ุงูุฃุณูู (โโ) ููุชููู
   - ุงุถุบุท Enter ุฃู ุงููุฑ ุนูู ุงููุณุชุฎุฏู

4. **ุณูุชู ุฅุฏุฑุงุฌ Mention ุชููุงุฆูุงู**
   - ุณูุชู ุฅุฏุฑุงุฌ `@{123}` (ID ุงููุณุชุฎุฏู) ุชููุงุฆูุงู
   - ูุง ุชุญุชุงุฌ ููุชุงุจุฉ ID ูุฏููุงู

---

## ๐ ูุซุงู ุนููู

### ุงูุฎุทูุงุช:

1. **ุงูุชุญ ุตูุญุฉ Notes**
   - ุงุถุบุท "Add Note"

2. **ุงุฎุชุฑ Related Type ู Related ID**
   - ูุซุงู: `deal` ู `5`

3. **ูู ุญูู Body:**
   - ุงูุชุจ: `ูุฑุญุจุงู @`
   - ุณุชุธูุฑ ูุงุฆูุฉ ุงููุณุชุฎุฏููู ุชููุงุฆูุงู

4. **ุงูุชุจ ุงุณู ุงููุณุชุฎุฏู:**
   - ูุซุงู: `@ali`
   - ุณูุชู ุงูุจุญุซ ูู ูุงุฆูุฉ ุงููุณุชุฎุฏููู

5. **ุงุฎุชุฑ ุงููุณุชุฎุฏู:**
   - ุงุถุบุท Enter ุฃู ุงููุฑ ุนูู ุงููุณุชุฎุฏู
   - ุณูุชู ุฅุฏุฑุงุฌ `@{123}` ุชููุงุฆูุงู

6. **ุงููู ุงููุต:**
   ```
   ูุฑุญุจุงู @{123}ุ ูุฑุฌู ูุฑุงุฌุนุฉ ูุฐู ุงูุตููุฉ
   ```

7. **ุงุญูุธ Note**
   - ุณูุชู ุฅุฑุณุงู Request ูุน `@{123}` ูู ุงูู body
   - ุณูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุณุชุฎุฏู ุชููุงุฆูุงู

---

## ๐ ููู ูุนูู Mention ูู ุงููุฑููุช ุฅูุฏ

### 1. RichTextEditor ูุน enableMentions={true}

```tsx
<RichTextEditor
  enableMentions={true}  // ุชูุนูู Mention
  value={body}
  onChange={setBody}
/>
```

### 2. ุนูุฏ ูุชุงุจุฉ @

- ูุชู ุงูุชุดุงู `@` ูู ุงููุต
- ูุชู ุนุฑุถ `MentionAutocomplete` component
- ูุชู ุงูุจุญุซ ูู ุงููุณุชุฎุฏููู ุชููุงุฆูุงู

### 3. MentionAutocomplete

- ูุจุญุซ ูู ุงููุณุชุฎุฏููู ุจุงุณุชุฎุฏุงู `userService.search()`
- ูุนุฑุถ ูุงุฆูุฉ ุงููุณุชุฎุฏููู ุงููุทุงุจูุฉ
- ุนูุฏ ุงูุงุฎุชูุงุฑุ ูุชู ุฅุฏุฑุงุฌ `@{user_id}` ุชููุงุฆูุงู

### 4. ุนูุฏ ุงูุญูุธ

- ูุชู ุฅุฑุณุงู ุงููุต ูุน `@{123}` ุฅูู ุงูู Backend
- ุงูู Backend ูุชุญูู `@{123}` ููุณุชุฎุฑุฌ ID
- ูุชู ุฅูุดุงุก Mention ูุฅุฑุณุงู ุฅุดุนุงุฑ

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. ูุง ุชูุชุจ ID ูุฏููุงู
   - โ `@123` - ูุนูู ููู ููุณ ุณููุงู
   - โ `@ali` ุซู ุงุฎุชุฑ ูู ุงููุงุฆูุฉ - ุฃุณูู ูุฃูุถู

### 2. MentionAutocomplete ูุญุชุงุฌ API
   - ูุฌุจ ุฃู ูููู `userService.search()` ูุนูู
   - Endpoint: `GET /api/users?search=ali`

### 3. ุงูุชุญูู ูู API

ุชุฃูุฏ ูู ูุฌูุฏ endpoint ููุจุญุซ ูู ุงููุณุชุฎุฏููู:
```typescript
// ูู userService.ts
async search(query: string): Promise<{ data: User[] }> {
  const response = await api.get(this.endpoint, {
    params: { search: query, per_page: 10 },
  });
  return { data: response.data };
}
```

---

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: ูุง ุชุธูุฑ ูุงุฆูุฉ ุงููุณุชุฎุฏููู ุนูุฏ ูุชุงุจุฉ @

**ุงูุญู:**
1. ุชุฃูุฏ ูู `enableMentions={true}` ูู RichTextEditor
2. ุชุฃูุฏ ูู ูุฌูุฏ `userService.search()` ูู ุงูููุฏ
3. ุชุฃูุฏ ูู ุฃู API `/api/users?search=...` ูุนูู

### ุงููุดููุฉ: ูุง ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู ุงููุต ูุญุชูู ุนูู `@{123}` ูููุณ `@ali`
2. ุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ููุฌูุฏ ูู ููุณ Tenant
3. ุชุฃูุฏ ูู ุฃู `queue:work` ูุนูู (ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช)

---

## ๐ ูุซุงู ููุฏ ูุงูู

```tsx
// ูู ุตูุญุฉ Notes
const Notes = () => {
  const [formData, setFormData] = useState({
    body: '',
    noteable_type: 'deal',
    noteable_id: 5,
  });

  return (
    <RichTextEditor
      value={formData.body}
      onChange={(value) => setFormData({ ...formData, body: value })}
      enableMentions={true}  // โ ููู ุฌุฏุงู
      placeholder="ุงูุชุจ @ ูุฐูุฑ ูุณุชุฎุฏู"
    />
  );
};
```

---

## โ ุงูุฎูุงุตุฉ

1. **ุชู ุชูุนูู Mention ูู ุตูุญุฉ Notes** โ
2. **ุงูุชุจ `@` ุซู ุงุณู ุงููุณุชุฎุฏู** โ
3. **ุงุฎุชุฑ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ** โ
4. **ุณูุชู ุฅุฏุฑุงุฌ `@{id}` ุชููุงุฆูุงู** โ
5. **ุณูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุชููุงุฆูุงู** โ

---

**ุงูุขู ุฌุฑุจ:**
1. ุงูุชุญ ุตูุญุฉ Notes
2. ุงุถุบุท "Add Note"
3. ุงูุชุจ `@` ูู ุญูู Body
4. ุงูุชุจ ุงุณู ุงููุณุชุฎุฏู (ูุซู `@ali`)
5. ุงุฎุชุฑ ูู ุงููุงุฆูุฉ
6. ุงุญูุธ Note
7. ุณูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุณุชุฎุฏู ุงููุฐููุฑ! ๐



















